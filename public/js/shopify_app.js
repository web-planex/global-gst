(function(){var e,n,t;window._Shopify=window._Shopify||{},e=["Shopify.API.reportScroll"],n=function(n,t){var i,o,r;if(("undefined"!=typeof console&&null!==console?console.log:void 0)&&(("undefined"!=typeof ShopifyApp&&null!==ShopifyApp?ShopifyApp.debug:void 0)||("undefined"!=typeof ShopifyPOS&&null!==ShopifyPOS?ShopifyPOS.debug:void 0)||t)&&!window.Teaspoon){for(o=0,r=e.length;o<r;o++)if(i=e[o],n.indexOf(i)>0)return;return console.log("ShopifyApp "+n)}},t=function(e){return("undefined"!=typeof console&&null!==console?console.warn:void 0)&&!window.Teaspoon?console.warn("ShopifyApp "+e):n(e,!0)},_Shopify.messageSlug=function(e){var n,t;for(n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=(e||"message")+"_",t=0;t<16;t++)e+=n.charAt(Math.floor(Math.random()*n.length));return e},null==_Shopify.Messenger&&(_Shopify.Messenger={modalMessages:[],messageHandlers:{},callbackPrefix:"onetime_callback",reset:function(){return this.messageHandlers={},this.modalMessages=[]},handlersFor:function(e){return this.messageHandlers[e]||[]},addHandler:function(e,n,t){return this.messageHandlers[e]||(this.messageHandlers[e]=[]),t&&this.modalMessages.push(e),this.messageHandlers[e].push(n)},setHandler:function(e,n){return this.messageHandlers[e]=[n]},invokeHandlers:function(e,n){var t,i,o,r,s,a;for(a=e.substring(0,this.callbackPrefix.length)===this.callbackPrefix,r=this.handlersFor(e),s=[],i=0,o=r.length;i<o;i++)t=r[i],t(e,n),a?s.push(this.removeHandler(e,t)):s.push(void 0);return s},addOnetimeHandler:function(e){var n;if(null!=e)return n=_Shopify.messageSlug(this.callbackPrefix),this.addHandler(n,e),n},removeHandler:function(e,n){var t;if(t=this.messageHandlers[e].indexOf(n),this.messageHandlers[e].splice(t,1),0===this.messageHandlers[e].length)return delete this.messageHandlers[e]},clearModal:function(){var e,n,t,i;for(i=this.modalMessages,e=0,n=i.length;e<n;e++)t=i[e],delete this.messageHandlers[t];return this.modalMessages=[]}}),_Shopify.AppBase||(_Shopify.AppBase=function(){function e(){}return e.reset=function(){return _Shopify.Messenger.reset(),this.debug=!1,this.forceRedirect=!0,this.apiKey="",this.shopOrigin="",this._isReady=!1},e.getWindowLocation=function(){return window.location},e.setWindowLocation=function(e){return window.location=e},e.bindWindowLocation=function(){return _Shopify.Messenger.addHandler("Shopify.API.setWindowLocation",function(e){return function(n,t){return e.setWindowLocation(t)}}(this))},e._isReady=!1,e.initWithData=function(){return this._isReady=!0},e.ready=function(e){return this._isReady?void setTimeout(e,0):_Shopify.Messenger.addHandler("Shopify.API.initialize",function(){return function(){return e()}}())},e.bindEvents=function(){return _Shopify.Messenger.addHandler("Shopify.API.initialize",function(e){return function(n,t){var i;if(e.initWithData(t),t.bodyClasses&&t.bodyClasses.length)return(i=document.body.classList).add.apply(i,t.bodyClasses)}}(this)),_Shopify.Messenger.addHandler("Shopify.API.print",function(e){return function(){return window.focus(),e.print()}}(this)),window.addEventListener("message",this.__addEventMessageCallback.bind(this),!1),window.addEventListener("scroll",_Shopify.Utils.throttle(function(e){return function(){return e.messageScrollPosition()}}(this),200),!1),this.bindWindowLocation()},e.messageScrollPosition=function(){return this.postMessage("Shopify.API.reportScroll",{position:window.pageYOffset})},e.init=function(e){if(null==e&&(e={}),!this._hasCalledInit)return this._hasCalledInit=!0,this.reset(),this.loadConfig(e),this.checkFrame(),this.bindEvents(),this.postMessage("Shopify.API.initialize",{debug:this.debug,apiKey:this.apiKey})},e.checkFrame=function(){var e;if(window===window.parent)return e=(this.shopOrigin||"https://myshopify.com")+"/admin/apps/",this.apiKey&&(e=e+this.apiKey+this.getWindowLocation().pathname+(this.getWindowLocation().search||"")),this.forceRedirect?(n("detected that it was not loaded in an iframe and is redirecting to: "+e,!0),this.setWindowLocation(e)):t("detected that it was not loaded in an iframe but redirecting is disabled! Redirect URL would be: "+e)},e.loadConfig=function(e){if(this.apiKey=e.apiKey,this.shopOrigin=e.shopOrigin,this.forceRedirect=e.hasOwnProperty("forceRedirect")?!!e.forceRedirect:this.forceRedirect=!0,this.debug=!!e.debug,this.apiKey||t("warning: apiKey has not been set."),this.shopOrigin||t("warning: shopOrigin has not been set."),this.shopOrigin&&!this.shopOrigin.match(/^http(s)?:\/\//))return t("warning: shopOrigin should include the protocol")},e.print=function(){return window.print()},e.window=function(){return window.parent.frames["app-iframe"]},e.postMessage=function(e,t){var i;return null==t&&(t={}),i=JSON.stringify({message:e,data:t}),n("client sent "+i+" to "+this.shopOrigin),window!==window.parent&&window.parent.postMessage(i,this.shopOrigin),null!=t?t.callbackId:void 0},e.flashNotice=function(e){return this.postMessage("Shopify.API.flash.notice",{message:e})},e.flashError=function(e){return this.postMessage("Shopify.API.flash.error",{message:e})},e.handlers=function(){return _Shopify.Messenger.messageHandlers},e.__addEventMessageCallback=function(e){var i,o,r,s;if(e.origin!==this.shopOrigin)return n("client received "+e.data+" from unknown origin "+e.origin+". Expected "+this.shopOrigin+".");n("client received "+e.data+" from "+e.origin);try{r=JSON.parse(e.data)}catch(n){return o=n,void t("client received invalid JSON and cannot process the message. "+o+" : "+e.data+" : "+JSON.stringify(e.data))}null!=r.data&&this.initWithData(r.data),"Shopify.API.Modal.close"===r.message&&(_Shopify.Messenger.clearModal(),"function"==typeof(i=ShopifyApp.Modal).__callback&&i.__callback(r.data.result,r.data.data)),_Shopify.Messenger.invokeHandlers(r.message,r.data),(s=document.querySelector('form[data-shopify-app-submit="'+r.message+'"]'))&&s.submit()},e}()),null==_Shopify.Utils&&(_Shopify.Utils={throttle:function(e,n,t){var i,o;return null==n&&(n=250),o=i=void 0,function(){var r,s,a;return s=t||this,a=+new Date,r=arguments,o&&a<o+n?(clearTimeout(i),i=setTimeout(function(){return o=a,e.apply(s,r)},n)):(o=a,e.apply(s,r))}}})}).call(this),function(){null==_Shopify.Trekkie&&(_Shopify.Trekkie={initialize:function(e){var n,t,i,o,r,s;if(!window.trekkie&&(s=window.trekkie=[],n={Trekkie:{appName:"admin",embedMode:"iframe",embedParentOrigin:e},Clickstream:{},Performance:{navigationTimingApiMeasurementsEnabled:!0,navigationTimingApiMeasurementsSampleRate:.25}},!s.integrations)){for(s.methods=["identify","page","ready","track"],s.factory=function(e){return function(){var n;return n=Array.prototype.slice.call(arguments),n.unshift(e),s.push(n),s}},r=s.methods,t=0,o=r.length;t<o;t++)i=r[t],s[i]=s.factory(i);return s.load=function(e){var n,t;s.config=e,t=document.createElement("script"),t.type="text/javascript",t.onerror=function(){return new(Image().src="https://v.shopify.com/internal_errors/track?error=easdk_load")},t.async=!0,t.src="https://cdn.shopify.com/s/javascripts/tricorder/trekkie.easdk.min.js?v=2017.08.01.1",n=document.getElementsByTagName("script")[0];try{return document.head?document.head.appendChild(t):document.body?document.body.appendChild(t):n.parentNode.insertBefore(t,n)}catch(e){return e,new(Image().src="https://v.shopify.com/internal_errors/track?error=easdk_initialize")}},s.load(n),s.page(),s}}})}.call(this),function(){_Shopify.Button={build:function(e,n,t){return null==t&&(t={}),this.addCallbacks(this.addMessages(e,n,t),t)},addMessages:function(e,n,t){var i,o,r,s;if(null==n&&(n="button"),null==t&&(t={}),Array.isArray(e))for(o=0,r=e.length;o<r;o++)i=e[o],this.addMessages(i,n,t);else null!=e&&(e.message||(e.message=_Shopify.messageSlug("button_"+n)),e.href&&!e.target&&(e.target="app"),"dropdown"===e.type&&(e.links=function(){var n,t,i,o;for(i=e.links,o=[],n=0,t=i.length;n<t;n++)s=i[n],o.push(this.addMessages(s,"link"));return o}.call(this)));return e},addCallbacks:function(e,n){var t,i,o,r;if(null==n&&(n={}),Array.isArray(e))for(i=0,o=e.length;i<o;i++)t=e[i],this.addCallbacks(t,n);return null!=e&&("app"===e.target&&(e.callback=function(){return function(){return ShopifyApp.setWindowLocation(e.href)}}()),null!=e.callback&&_Shopify.Messenger.setHandler(e.message,e.callback,n.modal),n.dropdown&&"dropdown"===e.type&&(e.links=function(){var n,t,i,o;for(i=e.links,o=[],n=0,t=i.length;n<t;n++)r=i[n],o.push(this.addCallbacks(r,{modal:!1}));return o}.call(this))),e}}}.call(this),function(){var e,n=function(e,n){return function(){return e.apply(n,arguments)}},t=function(e,n){function t(){this.constructor=e}for(var o in n)i.call(n,o)&&(e[o]=n[o]);return t.prototype=n.prototype,e.prototype=new t,e.__super__=n.prototype,e},i={}.hasOwnProperty;e=function(){function e(e){this.CURRENCIES=e,this.getCurrency=n(this.getCurrency,this)}return e.prototype.getCurrency=function(e){var n,t,i,o;for(o=this.CURRENCIES,t=0,i=o.length;t<i;t++)if(n=o[t],n.code===e)return n},e}(),window.ShopifyApp||(window.ShopifyApp=function(n){function i(){return i.__super__.constructor.apply(this,arguments)}return t(i,n),i.bindEvents=function(){return _Shopify.Messenger.addHandler("Shopify.API.initialize",function(e){return function(){return e.replaceState(e.getWindowLocation().pathname+e.getWindowLocation().search)}}(this)),_Shopify.Messenger.addHandler("Shopify.API.initialize",function(e){return function(){return setTimeout(function(){return _Shopify.Trekkie.initialize(e.shopOrigin)},0)}}(this)),i.__super__.constructor.bindEvents.apply(this,arguments)},i.initWithData=function(n){return null!=n.User&&(this.User=n.User),null!=n.CurrencyDB&&(this.CurrencyDB=new e(n.CurrencyDB.CURRENCIES)),i.__super__.constructor.initWithData.apply(this,arguments)},i.pushState=function(e){return i.postMessage("Shopify.API.pushState",{location:e})},i.replaceState=function(e){return i.postMessage("Shopify.API.replaceState",{location:e})},i.redirect=function(e){return i.postMessage("Shopify.API.redirect",{location:e})},i.remoteRedirect=function(e){return i.postMessage("Shopify.API.remoteRedirect",{location:e})},i.fetchAnalyticsToken=function(e){var n;return n="Shopify.API.fetchAnalyticsToken",_Shopify.Messenger.addHandler(n,e),i.postMessage(n)},i.Nav={initialize:function(e){return e||(e=[]),i.postMessage("Shopify.API.Nav.initialize",e)},select:function(e){if(e)return i.postMessage("Shopify.API.Nav.select",e)}},i.Sidebar={setSection:function(e){if(e)return i.postMessage("Shopify.API.Sidebar.setSection",e)}},i.Bar={initialize:function(e){var n,t,o,r,s,a,u;for(e||(e={}),r=["primary","secondary","tertiary"],t=0,o=r.length;t<o;t++)n=r[t],_Shopify.Button.build(null!=(s=e.buttons)?s[n]:void 0,n,{dropdown:!0});return _Shopify.Button.build(e.breadcrumb,"breadcrumb"),(null!=(a=e.pagination)?a.next:void 0)&&_Shopify.Button.build(e.pagination.next,"pagination_next"),(null!=(u=e.pagination)?u.previous:void 0)&&_Shopify.Button.build(e.pagination.previous,"pagination_previous"),i.postMessage("Shopify.API.Bar.initialize",e),document.body.onclick=function(){return i.postMessage("Shopify.API.Bar.closeDropdown")}},loadingOn:function(){return i.postMessage("Shopify.API.Bar.loading.on")},loadingOff:function(){return i.postMessage("Shopify.API.Bar.loading.off")},setIcon:function(e){return i.postMessage("Shopify.API.Bar.icon",{icon:e})},setTitle:function(e){return i.postMessage("Shopify.API.Bar.title",{title:e})},setBreadcrumb:function(e){var n;return n={breadcrumb:_Shopify.Button.build(e,"breadcrumb")},i.postMessage("Shopify.API.Bar.breadcrumb",n)},disableAllButtons:function(){return i.postMessage("Shopify.API.Bar.disableAllButtons")},enableAllButtons:function(){return i.postMessage("Shopify.API.Bar.enableAllButtons")},setPagination:function(e){var n,t,o;return n={pagination:e},(null!=(t=n.pagination)?t.next:void 0)&&_Shopify.Button.build(n.pagination.next,"pagination_next"),(null!=(o=n.pagination)?o.previous:void 0)&&_Shopify.Button.build(n.pagination.previous,"pagination_previous"),i.postMessage("Shopify.API.Bar.pagination",n)}},i.Modal={__callback:void 0,window:function(){return window.parent.frames["app-modal-iframe"]},open:function(e,n){var t,o,r,s,a;for(s=["primary","secondary","tertiary"],o=0,r=s.length;o<r;o++)t=s[o],_Shopify.Button.build(null!=(a=e.buttons)?a[t]:void 0,t,{dropdown:!0,modal:!0});return i.Modal.__callback=n,i.postMessage("Shopify.API.Modal.open",e)},alert:function(e,n){return i.Modal.__callback=n,i.postMessage("Shopify.API.Modal.alert",{message:e})},confirm:function(e,n){return i.Modal.__callback=n,i.postMessage("Shopify.API.Modal.confirm",{message:e})},input:function(e,n){return i.Modal.__callback=n,i.postMessage("Shopify.API.Modal.input",{message:e})},close:function(e,n){return i.postMessage("Shopify.API.Modal.close",{result:e,data:n})},productPicker:function(e,n){return i.Modal.__callback=n,i.postMessage("Shopify.API.Modal.productPicker",e)},collectionPicker:function(e,n){return i.Modal.__callback=n,i.postMessage("Shopify.API.Modal.collectionPicker",e)},setHeight:function(e){return i.postMessage("Shopify.API.Modal.setHeight",{height:e})},togglePrimaryButton:function(e){return i.postMessage("Shopify.API.Modal.togglePrimaryButton",e)}},i}(_Shopify.AppBase))}.call(this),function(){var e,n,t,i,o,r,s;n={},e="https://analytics.shopify.com",ShopifyApp.Analytics={fetch:function(e){if(!e.query)throw new Error("Shopify Analytics: You must provide a shopifyQl `query` to fetch.");if(!e.success)throw new Error("Shopify Analytics: You must provide a `success` callback to fetch.");if(!e.error)throw new Error("Shopify Analytics: You must provide an `error` callback to fetch.");return Boolean(n.token)?o(e):r(e)},clear:function(){return n={}}},r=function(e){return ShopifyApp.fetchAnalyticsToken(function(t,i){return i.error?e.error(i.error):(n={token:i.token,userId:i.userId,source:"analytics-sdk"},o(e))})},o=function(e){var o;if(Boolean(XMLHttpRequest)&&Boolean(JSON)&&Boolean(encodeURIComponent))return o=new XMLHttpRequest,o.open("GET",t(e.query),!0),o.onreadystatechange=function(){var t;if(4===o.readyState)return 200===o.status&&Boolean(o.responseText)?(t=i(o.responseText),e.success(t)):o.responseText.match(/token signature invalid/)?(n.token=null,ShopifyApp.Analytics.fetch(shopifyQl,e)):e.error(o.responseText)},o.send()},i=function(e){var n,t,i;return n=JSON.parse(e),{result:{columns:(null!=n&&null!=(t=n.result)?t.columns:void 0)||[],data:(null!=n&&null!=(i=n.result)?i.data:void 0)||[]}}},t=function(t){return e+"/query?"+s({q:t,token:n.token,user_id:n.userId||"",source:n.source||"analytics-api"})},s=function(e){var n;return n=function(n){return[n,e[n]].map(encodeURIComponent).join("=")},Object.keys(e).map(n).join("&")}}.call(this),function(){var e,n,t,i,o,r,s,a=function(e,n){function t(){this.constructor=e}for(var i in n)u.call(n,i)&&(e[i]=n[i]);return t.prototype=n.prototype,e.prototype=new t,e.__super__=n.prototype,e},u={}.hasOwnProperty;i=["Shopify.API.reportScroll"],r=function(e,n){var t,o,r;if(("undefined"!=typeof console&&null!==console?console.log:void 0)&&(("undefined"!=typeof ShopifyApp&&null!==ShopifyApp?ShopifyApp.debug:void 0)||("undefined"!=typeof ShopifyPOS&&null!==ShopifyPOS?ShopifyPOS.debug:void 0)||n)&&!window.Teaspoon){for(o=0,r=i.length;o<r;o++)if(t=i[o],e.indexOf(t)>=0)return;return console.log("ShopifyApp "+e)}},s=function(e){return("undefined"!=typeof console&&null!==console?console.warn:void 0)&&!window.Teaspoon?console.warn("ShopifyApp "+e):r(e,!0)},n=function(){function n(){}return n.loadingOn=function(){return e.postMessage("Shopify.API.Bar.loading.on")},n.loadingOff=function(){return e.postMessage("Shopify.API.Bar.loading.off")},n}(),t=function(){function n(){}return n.__callback=void 0,n.window=function(){return window.parent.frames["app-modal-iframe"]},n.close=function(n,t){return e.postMessage("Shopify.API.Modal.close",{result:n,data:t})},n.setHeight=function(n){return e.postMessage("Shopify.API.Modal.setHeight",{height:n})},n.setSize=function(n){return e.postMessage("Shopify.API.Modal.setSize",n)},n.setTitle=function(n){return e.postMessage("Shopify.API.Modal.setTitle",{title:n})},n}(),e=function(e){function i(){return i.__super__.constructor.apply(this,arguments)}return a(i,e),i.init=function(e,n){if(null==e&&(e={}),!this._hasCalledInit)return this._hasCalledInit=!0,this.reset(),this.loadConfig(e),this.checkFrame(),this.bindEvents(),this._setupModalButtons(e.buttons),this.Modal.__callback=n,this.postMessage("Shopify.API.initialize",e)},i.initWithData=function(e){return null!=e.User&&(this.User=e.User),null!=e.CurrencyDB&&(this.CurrencyDB="function"==typeof CurrencyDB?new CurrencyDB(e.CurrencyDB.CURRENCIES):void 0),i.__super__.constructor.initWithData.apply(this,arguments)},i.pushState=function(e){return i.postMessage("Shopify.API.pushState",{location:e})},i.redirect=function(e){return i.postMessage("Shopify.API.redirect",{location:e})},i.remoteRedirect=function(e){return i.postMessage("Shopify.API.remoteRedirect",{location:e})},i.Modal=t,i.Bar=n,i.__addEventMessageCallback=function(e){var n,t,i;if(e.origin!==this.shopOrigin)return r("client received "+e.data+" from unknown origin "+e.origin+". Expected "+this.shopOrigin+".");r("client received "+e.data+" from "+e.origin);try{i=JSON.parse(e.data)}catch(n){return t=n,void s("client received invalid JSON and cannot process the message. "+t+" : "+e.data+" : "+JSON.stringify(e.data))}return null!=i.data&&this.initWithData(i.data),"Shopify.API.Modal.close"===i.message&&(_Shopify.Messenger.clearModal(),"function"==typeof(n=this.Modal).__callback&&n.__callback(i.data.result,i.data.data)),_Shopify.Messenger.invokeHandlers(i.message,i.data)},i._setupModalButtons=function(e){var n,t,i,o,r;for(o=["primary","secondary","tertiary"],r=[],t=0,i=o.length;t<i;t++)n=o[t],r.push(_Shopify.Button.build(null!=e?e[n]:void 0,n,{dropdown:!0,modal:!0}));return r},i}(_Shopify.AppBase),window.ShopifyApp||(window.ShopifyApp={}),(o=window.ShopifyApp).Action||(o.Action=e)}.call(this),function(){}.call(this);